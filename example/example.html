<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <title>Content Displayer Demo</title>
    <link href="styles.css" rel="stylesheet" />
    <style>
      /* <div class="content-wrapper visible">
         <div class="content-container">
          ... CONTENT
           <img
             src="https://dummyimage.com/400x300/111/fff.png"
             loading="lazy"
             class="loaded"
           />
         </div>
      </div>  */

      /* Styles pour le contenu */
      .content-wrapper {
        opacity: 0;
        max-height: 0;
        overflow: hidden;
        transition: all 0.3s ease-in-out;
      }

      .content-wrapper.visible {
        opacity: 1;
        max-height: 500px;
      }

      .content-container {
        padding: 1rem;
        background: #f8f9fa;
        border-radius: 4px;
        margin-top: 1rem;
      }

      /* Animation pour les images */
      .content-wrapper img {
        max-width: 100%;
        transform: scale(0.9);
        transition: transform 0.3s ease-in-out;
      }

      .content-wrapper.visible img {
        transform: scale(1);
      }

      /* Animation pour le HTML */
      .content-wrapper .html-content {
        transform: translateY(20px);
        transition: transform 0.3s ease-in-out;
      }

      .content-wrapper.visible .html-content {
        transform: translateY(0);
      }
    </style>
  </head>
  <body>
    <h1>Content Displayer Demo</h1>

    <!-- Exemple 1: Affichage simple d'une image -->
    <div class="section">
      <h2>1. Affichage simple d'une image</h2>
      <a
        href="#"
        class="btn"
        data-content-trigger="img"
        data-content-source="https://dummyimage.com/400x300/111/fff.png"
      >
        Afficher l'image
      </a>
    </div>

    <!-- Exemple 2: Contenu HTML dans une zone cible -->
    <div class="section">
      <h2>2. Contenu HTML dans une zone cible</h2>
      <div class="trigger-group">
        <a
          href="#"
          class="btn"
          data-content-trigger="html"
          data-content-target="targetZone1"
          data-content-source="<div class='html-content'><h3>Premier contenu</h3><p>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p></div>"
        >
          Contenu 1
        </a>
        <a
          href="#"
          class="btn"
          data-content-trigger="html"
          data-content-target="targetZone1"
          data-content-source="<div class='html-content'><h3>Deuxième contenu</h3><p>Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p></div>"
        >
          Contenu 2
        </a>
      </div>
      <div id="targetZone1" class="target-zone"></div>
    </div>

    <!-- Exemple 3: Galerie d'images -->
    <div class="section">
      <h2>3. Galerie d'images</h2>
      <div class="gallery-grid">
        <a
          href="#"
          data-content-trigger="img"
          data-content-target="imageViewer"
          data-content-source="https://dummyimage.com/800x600/111/fff.png"
        >
          <img
            src="https://dummyimage.com/150x150/111/fff.png"
            alt="Miniature 1"
          />
        </a>
        <a
          href="#"
          data-content-trigger="img"
          data-content-target="imageViewer"
          data-content-source="https://dummyimage.com/800x600/111/fff.png"
        >
          <img
            src="https://dummyimage.com/150x150/111/fff.png"
            alt="Miniature 2"
          />
        </a>
        <a
          href="#"
          data-content-trigger="img"
          data-content-target="imageViewer"
          data-content-source="https://dummyimage.com/800x600/111/fff.png"
        >
          <img
            src="https://dummyimage.com/150x150/111/fff.png"
            alt="Miniature 3"
          />
        </a>
      </div>
      <div id="imageViewer" class="target-zone"></div>
    </div>

    <!-- Exemple 4: Contrôles globaux -->
    <div class="section">
      <h2>4. Contrôles globaux</h2>
      <div class="trigger-group">
        <button class="btn" onclick="displayer.showAllContent()">
          Tout afficher
        </button>
        <button class="btn" onclick="displayer.hideAllContent()">
          Tout masquer
        </button>
      </div>
    </div>

    <script src="../src/content-displayer.js"></script>
    <script>
      //   const htmlManager = new HtmlContentManager({
      //     rootContainer: document.getElementById("html-section"),
      //     onContentShow: (container, trigger, group) => {
      //       console.log("HTML content shown", { container, trigger, group });
      //     },
      //     onContentHide: (container, trigger, group) => {
      //       console.log("HTML content hidden", { container, trigger, group });
      //     },
      //     onError: (error, trigger) => {
      //       console.error("HTML error:", error, trigger);
      //     },
      //   });

      //   const imageManager = new ImageContentManager({
      //     rootContainer: document.getElementById("image-section"),
      //     onContentShow: (container, trigger, group) => {
      //       console.log("Image shown", { container, trigger, group });
      //     },
      //     onContentHide: (container, trigger, group) => {
      //       console.log("Image hidden", { container, trigger, group });
      //     },
      //     onError: (error, trigger) => {
      //       console.error("Image error:", error, trigger);
      //     },
      //   });
      //   htmlManager.initialize();
      //   imageManager.initialize();

      // *** OU  ***

      const displayer = new ContentDisplayer({
        onContentShow: (container, trigger, group) => {
          console.log("Contenu affiché");
        },
        onContentHide: (container, trigger, group) => {
          console.log("Contenu masqué");
        },
        onError: (message, trigger) => {
          console.error("Erreur:", message);
        },
      });
    </script>
  </body>
</html>
